<script>

    class SettingsMenu extends HTMLElement{
        constructor(){
            super();
            const template = document.createElement('template');
            template.innerHTML = '<div class="dropdown">\n' +
                '  <button  class="dropbtn" name "dropbtn" id="dropbtn">Settings</button>\n' +
                '  <div id="myDropdown" class="dropdown-content">\n' +
                '    <a name="inconnector" id="inconnector" href="#">configure In Connectors</a>\n' +
                '    <a name="outconnector" id="outconnector" href="#">configure out Connectors</a>\n' +
                '    <a name="compute" id="compute" href="#">configure compute</a>\n' +
                '  </div>\n' +
                '</div>'+
                '<style>'+
'.dropbtn {   background-color: #4CAF50;    color: white;    padding: 16px;    font-size: 16px;    border: none;    cursor: pointer;}'+

'.dropdown {    position: relative;    display: inline-block;}'+

'.dropdown-content {    display: none;    position: absolute;    background-color: #f9f9f9;    min-width: 160px;    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);    z-index: 1;}'+

'.dropdown-content a {    color: black;    padding: 12px 16px;    text-decoration: none;    display: block;}'+

'.dropdown-content a:hover {background-color: #f1f1f1}'+

'.dropdown:hover .dropdown-content {    display: block;}'+

'.dropdown:hover .dropbtn {    background-color: #3e8e41;}'+
'</style>'

            console.log('settings-menu created')
            this.attachShadow({mode: 'open'});
            this.shadowRoot.appendChild(template.content.cloneNode(true));
        }

        inconnectorClick(){console.log('launch')}
        outconnectorClick(){console.log('launch')}
        computeClick(){console.log('launch')}
        
        connectedCallback(){
            let inconnector = this.shadowRoot.querySelector('#inconnector');
            let outconnector = this.shadowRoot.querySelector('#outconnector');
            let compute = this.shadowRoot.querySelector('#compute');
            inconnector.addEventListener('click', this.inconnectorClick)
            outconnector.addEventListener('click', this.outconnectorClick)
            compute.addEventListener('click', this.computeClick)
        }


        disconnectedCallback(){
            console.log("disconnectedCallback");
            let inconnector = this.shadowRoot.querySelector('#inconnector');
            let outconnector = this.shadowRoot.querySelector('#outconnector');
            let compute = this.shadowRoot.querySelector('#compute');
            inconnector.removeEventListener('click', this.inconnectorClick)
            outconnector.removeEventListener('click',this. outconnectorClick)
            compute.removeEventListener('click', this.computeClick)
        }

        attributeChangedCallback(attrName, oldVal, newVal){
            console.log("attr changed");
        }
    }

    window.customElements.define('settings-menu', SettingsMenu);
</script>